{% extends 'base.html' %}

{% block javascript %}
<script>
$('#id_username').change(function() {
  var username = $(this).val();

  $.ajax({
    url: '/django_ajax/ajax/validate_username/',
    data: {
      'username': username
    },
    dataType: 'json',
    success: function(data) {
      if (data.is_taken) {
        alert("Username is already taken");
      }
    }
  });
});
</script>

{% endblock javascript %}

{% block content %}

<h1>Signup Form</h1>

<form method="POST" action="">
  {% csrf_token %}
  {{ form.as_p }}
  <input type="submit" value="Signup">
</form>


{% endblock content %}
